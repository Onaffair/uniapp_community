{"version":3,"file":"ActivityCard.js","sources":["components/ActivityCard/ActivityCard.vue","../../../HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovQ29kZS91bmktYXBwUHJvamVjdC91bmkvY29tcG9uZW50cy9BY3Rpdml0eUNhcmQvQWN0aXZpdHlDYXJkLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"activity-card\">\n    <view class=\"activity-card-thumb\">\n      <image\n        v-if=\"firstImage\"\n        class=\"thumb-image\"\n        mode=\"aspectFill\"\n        :src=\"imgBaseUrl+firstImage\"\n      />\n      <view v-else class=\"default-thumb\">\n        <text class=\"iconfont icon-photo\" style=\"font-size: 40rpx;\"></text>\n      </view>\n    </view>\n    <view class=\"activity-card-content\">\n      <view class=\"title\" @click=\"goToDetail\">{{ activity.title }}</view>\n      <view class=\"meta-info\" @click=\"goToDetail\">\n        <text class=\"category-tag\">{{ categoryName }}</text>\n        <view class=\"time\">\n          <text class=\"iconfont icon-clock\"></text>\n          <text>{{ timeRange }}</text>\n        </view>\n        <view class=\"location\">\n          <text class=\"iconfont icon-location\"></text>\n          <text>{{ activity.address }}</text>\n        </view>\n      </view>\n      <view class=\"stats\">\n        <view class=\"stat-item\">\n          <text class=\"iconfont icon-friends\"></text>\n          <text>{{ activity.joinNum }}/{{ activity.mostJoinNum }}</text>\n        </view>\n        <view class=\"stat-item\">\n          <text class=\"iconfont icon-like\"></text>\n          <text>{{ activity.collectNum }}</text>\n        </view>\n        <view class=\"stat-item\">\n          <text class=\"iconfont icon-underway\"></text>\n          <text>{{ currentStatus }}</text>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { computed } from 'vue';\nimport { imgBaseUrl } from \"@/util/basic-data\";\nimport { useActivityStore } from \"@/store/activityStore\";\n\nconst activityStore = useActivityStore()\n\nconst props = defineProps({\n  activity: {\n    type: Object,\n    required: true\n  }\n});\n\n// 状态映射\nconst statusMap = activityStore.activityStatusList;\n// 分类映射\nconst categoryMap = activityStore.categoryList;\n\n// 时间格式化\nconst formatTime = (timeString) => {\n  const date = new Date(timeString);\n  return `${date.getFullYear()}年${(date.getMonth() + 1).toString().padStart(2, '0')}月${date.getDate().toString().padStart(2, '0')}日`;\n};\n\n// 计算属性\nconst categoryName = computed(() => {\n  const category = categoryMap.find(item => item.id === props.activity.categoryId);\n  return category ? category.name : '未知分类';\n});\n\nconst firstImage = computed(() => props.activity.images?.[0] || '');\n\nconst timeRange = computed(() => {\n  return `${formatTime(props.activity.beginTime)} - ${formatTime(props.activity.endTime)}`;\n});\n\nconst currentStatus = computed(() => {\n  const status = props.activity.status;\n  const item = statusMap.find(item => item.id === status);\n  return item.name;\n});\n\nconst goToDetail = () => {\n  uni.navigateTo({\n    url: `/pages/activity/detail?id=${props.activity.id}`\n  });\n};\n</script>\n\n<style lang=\"scss\">\n.activity-card {\n  margin: 20rpx;\n  border-radius: 16rpx;\n  overflow: hidden;\n  box-shadow: 0 4rpx 16rpx rgba(0,0,0,0.1);\n  background-color: #fff;\n  display: flex;\n  padding: 20rpx;\n  \n  &-thumb {\n    width: 180rpx;\n    height: 180rpx;\n    margin-right: 20rpx;\n    \n    .thumb-image {\n      width: 100%;\n      height: 100%;\n      border-radius: 8rpx;\n    }\n    \n    .default-thumb {\n      width: 100%;\n      height: 100%;\n      background: #f0f0f0;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      color: #999;\n      border-radius: 8rpx;\n    }\n  }\n  \n  &-content {\n    flex: 1;\n    overflow: hidden;\n  }\n}\n\n.title {\n  font-size: 32rpx;\n  font-weight: bold;\n  margin-bottom: 16rpx;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.meta-info {\n  font-size: 24rpx;\n  color: #666;\n  line-height: 1.5;\n  \n  .category-tag {\n    display: inline-block;\n    padding: 0 8rpx;\n    border: 1rpx solid #2979ff;\n    color: #2979ff;\n    border-radius: 8rpx;\n    margin-bottom: 8rpx;\n  }\n}\n\n.time,\n.location {\n  display: flex;\n  align-items: center;\n  margin-top: 12rpx;\n  \n  .iconfont {\n    margin-right: 8rpx;\n  }\n}\n\n.stats {\n  display: flex;\n  justify-content: space-between;\n  margin-top: 24rpx;\n  padding: 16rpx 0;\n  background: #f5f5f5;\n  border-radius: 8rpx;\n}\n\n.stat-item {\n  display: flex;\n  align-items: center;\n  font-size: 24rpx;\n  \n  .iconfont {\n    margin-right: 8rpx;\n  }\n}\n</style> ","import Component from 'D:/Code/uni-appProject/uni/components/ActivityCard/ActivityCard.vue'\nwx.createComponent(Component)"],"names":["useActivityStore","computed","item","uni","Component"],"mappings":";;;;;;;;;;;;;AAiDA,UAAM,gBAAgBA,oBAAAA,iBAAkB;AAExC,UAAM,QAAQ;AAQd,UAAM,YAAY,cAAc;AAEhC,UAAM,cAAc,cAAc;AAGlC,UAAM,aAAa,CAAC,eAAe;AACjC,YAAM,OAAO,IAAI,KAAK,UAAU;AAChC,aAAO,GAAG,KAAK,YAAW,CAAE,KAAK,KAAK,SAAU,IAAG,GAAG,SAAU,EAAC,SAAS,GAAG,GAAG,CAAC,IAAI,KAAK,QAAO,EAAG,WAAW,SAAS,GAAG,GAAG,CAAC;AAAA,IACjI;AAGA,UAAM,eAAeC,cAAQ,SAAC,MAAM;AAClC,YAAM,WAAW,YAAY,KAAK,UAAQ,KAAK,OAAO,MAAM,SAAS,UAAU;AAC/E,aAAO,WAAW,SAAS,OAAO;AAAA,IACpC,CAAC;AAED,UAAM,aAAaA,cAAAA,SAAS,MAAA;;AAAM,0BAAM,SAAS,WAAf,mBAAwB,OAAM;AAAA,KAAE;AAElE,UAAM,YAAYA,cAAQ,SAAC,MAAM;AAC/B,aAAO,GAAG,WAAW,MAAM,SAAS,SAAS,CAAC,MAAM,WAAW,MAAM,SAAS,OAAO,CAAC;AAAA,IACxF,CAAC;AAED,UAAM,gBAAgBA,cAAQ,SAAC,MAAM;AACnC,YAAM,SAAS,MAAM,SAAS;AAC9B,YAAM,OAAO,UAAU,KAAK,CAAAC,UAAQA,MAAK,OAAO,MAAM;AACtD,aAAO,KAAK;AAAA,IACd,CAAC;AAED,UAAM,aAAa,MAAM;AACvBC,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,6BAA6B,MAAM,SAAS,EAAE;AAAA,MACvD,CAAG;AAAA,IACH;;;;;;;;;;;;;;;;;;;;;AC1FA,GAAG,gBAAgBC,SAAS;"}